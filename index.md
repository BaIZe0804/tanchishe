## 贪吃蛇游戏 --> 中介者模式

### 用类进行拆分,单独用 js 表示每个类 中介类是 index.js 所以下面引用这个类

- 进行页面初始化, 初始化布局不是这接卸 html 标签,而是通过 index.js 进行初始化节点上树
- 设置 30 行 30 列的表格 用 this.row 表示行,this.col 表示列

### <u>蛇的渲染</u>

- 先将视图全部颜色清除,之后 **_update()_** 头部前一个增加,尾部删除一个,形成运动效果
- 接下来就是渲染蛇的逻辑,此时我们的逻辑是**Snake**类调用**Game**类的**setCOlor**方法,因为本质其实就是**table**表格渲染颜色
  **table**表格在**Game**类创建的,所以理应让**Game**设置渲染颜色的方法,此时让**Sanke**类调用**game**的**setColor**方法
- 此时,**Snake**的**render**没有调用,如果我们**Snake**自己的构造函数中调用不到**game**,因为此时的**Game**类还没有执行完四部曲
  所以是*undefined*,解决方案是定时器,因为定时器是异步的,不会阻止**Game**类的四部曲
- 此时**table**中就能渲染蛇了
- 先清屏在更新, 否则会不协调

### 蛇的运动

- 蛇在不同方向上的运动,可以给*game*设置一个**bindEvent**事件, 进行键盘的事件监听, 改变运动方向
- 此时*snake*类也必须对应方向匹配

### 食物的创建

- 随机出现食物, 但是食物会有概率出现蛇的身上,所以修改
-
